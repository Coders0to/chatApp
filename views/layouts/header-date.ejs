<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dating UI ‚Äî Dark Elegant Pastel (Final)</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.2/socket.io.js" integrity="sha512-VJ6+sp2E5rFQk05caiXXzQd1wBABpjEj1r5kMiLmGAAgwPItw1YpqsCCBtq8Yr1x6C49/mTpRdXtq8O2RcZhlQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>

  
.chat-body{
  height:345px;
  overflow:auto;
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:12px;
}

.current-user-chat {
  align-self: flex-end;
  background-color: rgb(113 78 219);
  color: #fff;
  border-radius: 10px 10px 0px 10px;
  margin: 12px;
  padding: 8px;
  max-width: 60%;
  font-weight: 600;
  border: 2px solid black;
}

.distance-user-chat {
  align-self: flex-start;
  background-color: #f2f2f2;
  color: #000;
  border-radius: 10px 10px 10px 0px;
  margin: 12px;
  padding: 8px;
  max-width: 60%;
  font-weight: 600;
  border: 2px solid black;
}

 :root{
  --dusk:#0f1630;    /* deep dusk blue */
  --mauve:#3a2350;    /* deep mauve */
  --peach:#ffd7c2;    /* soft peach */
  --lilac:#d9ccff;    /* soft lilac */
  --cream:#fff8f2;    /* off-white */
  --muted:#b9a8b8;
  --accent1:#ff9fb3;   /* warm pastel pink */
  --accent2:#caa6ff;   /* soft pastel purple */
  --glass: rgba(255,255,255,0.06);
  --card-radius:18px;
    
    /* --- NEW VARS for layout --- */
    --sidebar-width: 240px;
    --topbar-height: 56px;
 }
 *{box-sizing:border-box}
 
  html,body{ 
    margin:0;
    background:#0b0b12;
    font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;
    color:var(--cream);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  /* --- NEW BODY LAYOUT using CSS Grid --- */
  body {
   display: grid;
   grid-template-columns: var(--sidebar-width) 1fr; /* sidebar width, main content */
   grid-template-rows: var(--topbar-height) 1fr;  /* topbar height, main content */
   grid-template-areas:
    "topbar topbar"
    "sidebar main";
   height: 100vh; /* Use vh for grid layout */
   overflow: hidden; /* prevent double scrollbars */
  }

/* Background wrapper + animated gradient + slow zoom */
.bg-wrap{
 position:fixed;inset:0;overflow:hidden;z-index:0;
 display:flex;align-items:center;justify-content:center;
 animation:bgPulse 12s ease-in-out infinite;
 transform-origin:center;
}
@keyframes bgPulse{
 0%{transform:scale(1); }
 50%{transform:scale(1.03); }
 100%{transform:scale(1); }
}

/* animated gradient layer */
.bg-gradient{
 position:absolute;inset:-10%;background:linear-gradient(120deg, rgba(255,217,195,0.12) 0%, rgba(202,166,255,0.14) 45%, rgba(58,35,80,0.22) 100%);
 filter:blur(40px);
 animation:gradientMove 18s ease-in-out infinite;
}
@keyframes gradientMove{
 0%{transform:translate(-5%, -5%) rotate(0deg);}
 50%{transform:translate(5%, 5%) rotate(3deg);}
 100%{transform:translate(-5%, -5%) rotate(0deg);}
}

/* sparkle & hearts container (absolute) */
.particles{position:absolute;inset:0;pointer-events:none;z-index:1;}

/* heart & sparkle elements */
.particle{
 position:absolute;
 will-change:transform,opacity;
 opacity:0;
 transform:translateY(0) scale(0.9);
 animation:floatUp linear infinite, fadeInOut ease-in-out infinite;
}
.particle.heart{font-size:18px;text-shadow:0 4px 18px rgba(200,120,160,0.18);}
.particle.spark{width:6px;height:6px;border-radius:50%;background:linear-gradient(180deg,var(--peach),var(--lilac));box-shadow:0 6px 18px rgba(170,120,200,0.16)}

/* float and fade animations (duration randomized via inline style in JS) */
@keyframes floatUp{
 0%{transform:translateY(12vh) scale(0.9) rotate(0deg)}
 100%{transform:translateY(-20vh) scale(1.05) rotate(20deg)}
}
@keyframes fadeInOut{
 0%{opacity:0}
 10%{opacity:1}
 85%{opacity:1}
 100%{opacity:0}
}

/* --- NEW Admin Panel Styles (Sidebar & Topbar) --- */
.top-bar {
 grid-area: topbar;
 background: var(--dusk);
 display: flex;
 align-items: center;
 justify-content: space-between;
 padding: 0 24px 0 28px; /* Align with sidebar padding */
 border-bottom: 1px solid var(--mauve);
 z-index: 10;
}
.top-bar h3 {
 margin: 0;
 color: var(--lilac);
 font-weight: 600;
}
.menu-toggle { /* hamburger */
 background: none;
 border: none;
 color: var(--cream);
 font-size: 24px;
 cursor: pointer;
}

.sidebar {
 grid-area: sidebar;
 background: var(--dusk);
 padding: 20px 0;
 z-index: 10;
 display: flex;
  flex-direction: column;
}
.sidebar-nav {
 margin: 0;
 padding: 0;
 list-style: none;
}
.sidebar-nav li a {
 display: flex;
 align-items: center;
 gap: 12px;
 padding: 14px 28px;
 text-decoration: none;
 color: var(--muted);
 font-weight: 500;
 font-size: 15px;
 border-left: 3px solid transparent;
 transition: all 150ms ease-in-out;
}
.sidebar-nav li a:hover {
 background: var(--mauve);
 color: var(--cream);
}
.sidebar-nav li a.active {
 color: var(--cream);
 background: rgba(58, 35, 80, 0.7); /* Lighter mauve */
 border-left-color: var(--accent1); /* Romantic pink accent */
}
.sidebar-nav .badge {
 margin-left: auto;
 background: var(--accent1);
 color: var(--dusk);
 font-size: 12px;
 font-weight: 700;
 padding: 3px 8px;
 border-radius: 99px;
}

.sidebar {
    display: flex; /* Ise 'flex' hi rakhein */
    position: fixed; /* Taki ye overlay ho sake */
    left: -100%; /* Shuru mein screen se bahar */
    top: var(--topbar-height); /* Top bar ke niche se shuru ho */
    height: calc(100vh - var(--topbar-height)); /* Poori height le */
    width: var(--sidebar-width);
    transition: left 300ms ease-in-out; /* Smooth slide animation */
    z-index: 1000; /* Sabse upar dikhe */
  }
  .sidebar.sidebar-open {
      left: 0; /* 'sidebar-open' class lagne par slide hoke samne aaye */
  }

.sidebar-nav li a .icon { /* for emoji icons */
 font-size: 18px;
  line-height: 1;
}
.sidebar .logout {
    margin-top: auto; /* Pushes logout to bottom */
}

/* --- NEW Main Content Wrapper --- */
.main-content {
 grid-area: main;
 overflow-y: auto; /* Allows content to scroll */
 position: relative;
}

/* main layout container - NO CHANGES, 'margin: auto' will center it in .main-content */
.app-wrap{position:relative;z-index:2;display:grid;grid-template-columns:520px 1fr;gap:28px;width:1100px;max-width:98vw;padding:28px;margin:auto;align-items:start}

/* LEFT: big card area */
.left{
 background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.03));
 border-radius:22px;padding:20px;box-shadow:0 12px 40px rgba(6,6,10,0.6);
 min-height:760px;position:relative;overflow:visible;
 backdrop-filter: blur(6px);
}
.card-viewport{display:flex;align-items:center;justify-content:center;height:680px}
.card-stack{width:420px;height:640px;position:relative;perspective:1400px}

/* card styles */
.d-none {
  display:none !important;
}
.card{
 position:absolute;left:0;top:0;width:100%;height:100%;border-radius:16px;overflow:hidden;
 background:linear-gradient(180deg,var(--cream),#fffaf6);
 box-shadow:0 20px 40px rgba(30,15,30,0.28);
 display:flex;flex-direction:column;transition:transform 260ms cubic-bezier(.2,.9,.3,1),opacity 260ms ease;
 user-select:none;touch-action:none;
 color: #2b2340;
}
.card .photo{position:relative;filter:contrast(0.98) saturate(1.02)}
.card .badge{position:absolute;left:14px;top:14px;background:linear-gradient(90deg, rgba(255,255,255,0.85), rgba(255,255,255,0.75));color:#4b2b4f;padding:6px 10px;border-radius:999px;font-weight:600;font-size:13px;border:1px solid rgba(75,43,79,0.06)}
.card .info{padding:16px;flex:1;display:flex;flex-direction:column;justify-content:space-between}
.card h3{margin:0;font-size:20px;color:#2b2340}
.meta{color:var(--muted);font-size:14px}
.bio{margin-top:8px;color:#6f5f71}

.card .photo .profile-img {
 width: 100%;
 /* height: 100%; */
 height: 565px;
 object-fit: cover;
 display: block;
}
/* stamps for like / nope during drag */
.stamp{position:absolute;top:22px;padding:8px 14px;border-radius:8px;font-weight:800;letter-spacing:1px;transform:rotate(-18deg);opacity:0;transition:opacity 120ms}
.stamp.like{left:20px;color:var(--accent1);border:3px solid rgba(255,159,179,0.18);background:rgba(255,255,255,0.7)}
.stamp.nope{right:20px;color:#68a0a8;border:3px solid rgba(127,179,194,0.12);transform:rotate(18deg);background:rgba(255,255,255,0.72)}

/* controls (centered under card) */
.controls{display:flex;gap:14px;align-items:center;justify-content:center;margin-top:10px}
.circle-btn{width:66px;height:66px;border-radius:999px;border:none;display:grid;place-items:center;font-size:22px;cursor:pointer;transition:transform 150ms ease,box-shadow 150ms;box-shadow:0 10px 30px rgba(16,10,20,0.22)}
.circle-btn:active{transform:scale(.96)}
/* different button looks */
.nope{background:linear-gradient(180deg,#fff6f5,#ffecec);color:#b73b3b}
.like{background:linear-gradient(180deg,#fffaf8,#fff0f6);color:#d92b6f}
.super{width:84px;height:84px;background:linear-gradient(135deg,var(--accent2),var(--accent1));color:#fff;box-shadow:0 16px 48px rgba(202,166,255,0.18)}
.undo{background:linear-gradient(180deg,#fff9f1,#fff6ec);color:#b77b1c}
.view{background:linear-gradient(180deg,#f7fffb,#e9fff4);color:#007a56}
.msg{background:linear-gradient(180deg,#f6f5ff,#f0e9ff);color:#3b1aa6}

/* right panel */
.right{
 background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.02));
 border-radius:22px;padding:22px;box-shadow:0 12px 40px rgba(6,6,10,0.6);min-height:760px;position:relative;overflow:hidden;
}
.discover h2{margin:0;color:#f8e8ff}
.discover p{margin:6px 0 0;color:var(--muted)}
.recent-list{margin-top:18px;max-height:540px;overflow:auto;padding-right:8px}
.recent-item{display:flex;align-items:center;gap:12px;padding:10px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));margin-bottom:8px}
.recent-item img{width:56px;height:56px;border-radius:10px;object-fit:cover}
.recent-item .rmeta{font-size:14px;color:var(--muted)}

/* chat panel sliding from right (glassy mauve) */
.chat-panel{position:fixed;right:-460px;top:60px;width:440px;height:500px;background:linear-gradient(180deg, rgba(50,24,45,0.92), rgba(44,18,40,0.88));box-shadow:-40px 30px 110px rgba(35,18,36,0.46);border-radius:18px;padding:14px;transition:right 360ms cubic-bezier(.2,.9,.2,1);z-index:30;backdrop-filter:blur(6px)}
.chat-panel.open{right:48px}
.chat-header{display:flex;align-items:center;gap:12px;padding:8px;border-bottom:1px solid rgba(255,255,255,0.03)}
.chat-header img{width:52px;height:52px;border-radius:12px;object-fit:cover}
/* .chat-body{height:345px;overflow:auto;padding:12px;display:flex;flex-direction:column;gap:12px} */
.bubble{max-width:75%;padding:10px 14px;border-radius:14px;background:rgba(255,255,255,0.06);color:var(--cream)}
.bubble.me{background:linear-gradient(135deg,var(--accent1),var(--accent2));color:#fff}
.chat-input{display:flex;gap:8px;padding:8px;border-top:1px solid rgba(255,255,255,0.03)}
.chat-input input{flex:1;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.02);color:var(--cream)}
.send-btn{padding:10px 14px;border-radius:10px;border:none;background:linear-gradient(135deg,var(--accent2),var(--accent1));color:white;cursor:pointer}

/* help floating button */
.help-fab{position:fixed;right:48px;bottom:36px;width:56px;height:56px;border-radius:999px;background:linear-gradient(135deg,var(--accent1),var(--accent2));color:white;border:none;font-size:22px;box-shadow:0 12px 40px rgba(202,166,255,0.24);cursor:pointer;z-index:40}
.help-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(7,6,12,0.6),rgba(18,12,22,0.6));z-index:50}
.help-card{width:360px;background:linear-gradient(180deg,#1f1026,#271233);padding:18px;border-radius:14px;box-shadow:0 12px 40px rgba(8,6,10,0.6);color:var(--cream)}
.help-card h3{margin:0 0 8px 0;color:var(--peach)}
.help-list{margin:0;padding:0;list-style:none;color:var(--muted)}
.help-list li{margin:8px 0}

/* responsive */
@media(max-width:1120px){
 .app-wrap{grid-template-columns:1fr; padding:18px}
 .chat-panel{display:none}

  /* --- NEW responsive rules for Admin Panel --- */
  body {
    grid-template-columns: 1fr; /* Stack everything */
    grid-template-rows: var(--topbar-height) 1fr;
    grid-template-areas:
        "topbar"
        "main";
  }
  
}

/* small helpers */
.small-muted{color:var(--muted);font-size:13px}
</style>
</head>
<body>
<div class="bg-wrap" aria-hidden="true">
 <div class="bg-gradient"></div>
 <div class="particles" id="particles"></div>
</div>

<header class="top-bar">
 <h3>Chat System</h3>
 <h3 class="mb-4" >Hii, <%= user.name  %> <span class="title-subtitle"> (Your Near By Matches)</span></h3>
 <button class="menu-toggle" aria-label="Toggle Menu">‚ò∞</button>
</header>

<nav class="sidebar sidebar-open" aria-label="Admin Menu">
  <ul class="sidebar-nav">
    <li><a href="homepage" ><span class="icon">üè†</span> Homepage</a></li>
    <li><a href="/matches" class="active"><span class="icon">‚ù§Ô∏è</span> Matches</a></li>
    <li><a href="#"><span class="icon">üîî</span> Notifications <span class="badge">0</span></a></li>
  </ul>
  <ul class="sidebar-nav logout">
    <li><a href="#"><span class="icon">üö™</span> Logout</a></li>
  </ul>
</nav>
